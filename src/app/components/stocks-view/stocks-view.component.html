<h1>Stocks Monitor App</h1>

<mat-divider></mat-divider>

<mat-progress-bar mode="indeterminate" *ngIf='loading'></mat-progress-bar>

<table mat-table [dataSource]="dataSource">

  <ng-container matColumnDef="symbol">
    <th mat-header-cell *matHeaderCellDef>Symbol</th>
    <td mat-cell *matCellDef="let element">{{element.meta.symbol}}</td>
  </ng-container>

  <ng-container matColumnDef="name-filter">
    <th mat-header-cell *matHeaderCellDef>
       <input type="string" (change)="filterchanged($event, 'name')" />
    </th>
 </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let element">{{element.meta.name}}</td>
  </ng-container>

  <ng-container matColumnDef="symbol-filter">
      <th mat-header-cell *matHeaderCellDef>
        <input type="string" (change)="filterchanged($event, 'symbol')" />
      </th>
  </ng-container>

  <ng-container matColumnDef="exchange">
    <th mat-header-cell *matHeaderCellDef>Weight</th>
    <td mat-cell *matCellDef="let element">{{element.meta.exchange}}</td>
  </ng-container>

  <ng-container matColumnDef="exchange-filter">
      <th mat-header-cell *matHeaderCellDef>
        <input type="string" (change)="filterchanged($event, 'exchange')" />
      </th>
  </ng-container>

  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef>Type</th>
    <td mat-cell *matCellDef="let element">{{element.meta.type}}</td>
  </ng-container>

  <ng-container matColumnDef="type-filter">
      <th mat-header-cell *matHeaderCellDef>
        <input type="string" (change)="filterchanged($event, 'type')" />
      </th>
  </ng-container>

  <ng-container matColumnDef="ipo">
    <th mat-header-cell *matHeaderCellDef>IPO Date</th>
    <td mat-cell *matCellDef="let element">{{element.meta.ipo}}</td>
  </ng-container>

  <ng-container matColumnDef="ipo-filter">
    <th mat-header-cell *matHeaderCellDef>
        <input type="string" (change)="filterchanged($event, 'ipo')" />
    </th>
  </ng-container>
  
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-header-row *matHeaderRowDef="displayedColumnFilters"></tr>
  <tr mat-row (click)="analysisDialog(row.meta)" *matRowDef="let row; columns: displayedColumns;"></tr>

</table>

<mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons></mat-paginator>